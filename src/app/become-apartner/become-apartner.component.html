<section class="title d-flex">
  <div class="container">
    <div class="row">
      <h1>
        {{ "partner.hero.title_prefix" | translate }}
        <span class="px-3">{{ "partner.hero.title" | translate }}</span>
      </h1>

      <p class="py-4">
        {{ "partner.hero.desc" | translate }}
      </p>
    </div>
  </div>
</section>

<section class="partner py-5">
  <div class="container">
    <div class="row justify-content-center">
      <h2 class="text-center w-75">
        {{ "partner.hero.leave_message_prefix" | translate }}
        <span>{{ "partner.hero.leave_message_suffix" | translate }}</span>
      </h2>

      <div class="pt-5 title-holder row justify-content-center align-center">
        <div class="before col-3"></div>
        <p class="text-center col-3 pt-2">
          {{ "partner.form.company_info_title" | translate }}
        </p>
        <div class="after col-3"></div>
      </div>
    </div>

    <div class="row py-5">
      <div class="container">
        @if (!submitted) {
        <form class="w-75 m-auto" action="" [formGroup]="becomePartner" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.company_name_label" | translate }}</label>
              <input type="text" class="form-control p-3" formControlName="company_name" [class.is-valid]="
                    becomePartner.get('company_name')?.errors == null &&
                    becomePartner.get('company_name')?.touched
                  " placeholder="{{ 'partner.form.company_name_placeholder' | translate }}" formControlName="company_name" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('company_name')?.errors != null &&
                    becomePartner.get('company_name')?.touched
                  ">
                {{ "partner.form.company_name_error" | translate }}
              </p>
            </div>

            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.company_address_label" | translate }}</label>
              <input type="text" class="form-control p-3" placeholder="{{ 'partner.form.company_address_placeholder' | translate }}"
                formControlName="company_address" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('company_address')?.errors != null &&
                    becomePartner.get('company_address')?.touched
                  ">
                {{
                "partner.form.company_address_error" | translate
                }}
              </p>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.company_website_label" | translate }}</label>
              <input type="text" class="form-control p-3" placeholder="{{ 'partner.form.company_website_placeholder' | translate }}"
                formControlName="company_website" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('company_website')?.errors != null &&
                    becomePartner.get('company_website')?.touched
                  ">
                {{
                "partner.form.company_website_error" | translate
                }}
              </p>
            </div>

            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.contact_number_label" | translate }}</label>
              <input type="text" class="form-control p-3" formControlName="company_number" [class.is-valid]="
                    becomePartner.get('company_number')?.errors == null &&
                    becomePartner.get('company_number')?.touched
                  " placeholder="{{ 'partner.form.contact_number_placeholder' | translate }}" formControlName="company_number" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('company_number')?.errors != null &&
                    becomePartner.get('company_number')?.touched
                  ">
                {{"partner.form.contact_number_error" | translate }}
              </p>
            </div>

            <div class="form-group col-12 my-3">
              <label for="inputState">{{ "partner.form.partner_type_label" | translate }}</label>
              <div class="custom-select-wrapper">
                <select [class.is-valid]="
                      becomePartner.get('partner_type')?.errors == null &&
                      becomePartner.get('partner_type')?.touched
                    " id="inputState" class="form-control p-3" formControlName="partner_type"
                  (change)="onPartnerTypeChange($event)">
                  <option value="" selected disabled>
                    {{ "partner.form.partner_type_placeholder" | translate }}
                  </option>
                  <option value="Consulting Firm">
                    {{ "partner.form.partner_type_consulting_firm" | translate }}
                  </option>
                  <option value="Freelance Consultant">
                    {{ "partner.form.partner_type_freelance" | translate }}
                  </option>
                  <option value="Startup Ecosystem Enabler / Community Partner">
                    {{ "partner.form.partner_type_startup_ecosystem" | translate }}
                  </option>
                  <option value="Reseller">{{ "partner.form.partner_type_reseller" | translate }}</option>
                  <option value="HR Tech Provider">
                    {{ "partner.form.partner_type_hr_tech_provider" | translate }}
                  </option>
                  <option value="Other">{{ "partner.form.partner_type_other" | translate }}</option>
                </select>
              </div>

              <!-- Error message -->
              <p *ngIf="
                    becomePartner.get('partner_type')?.errors != null &&
                    becomePartner.get('partner_type')?.touched
                  " class="py-2 text-danger">
                {{ "partner.form.partner_type_error" | translate }}
              </p>

              <!-- Show input field only when 'Other' is selected -->
              <div *ngIf="isOtherSelected" class="mt-3">
                <label for="otherInput">{{
                  "partner.form.partner_type_specify_label" | translate
                  }}</label>
                <input type="text" id="otherInput" class="form-control p-3" formControlName="OtherPartnerType"
                  placeholder="{{ 'partner.form.partner_type_specify_placeholder' | translate }}" />
              </div>
            </div>

            <div class="form-group col-md-12 my-3">
              <label for="">{{ "partner.form.country_label" | translate }}</label>
              <input type="text" class="form-control p-3" formControlName="country_interested" [class.is-valid]="
                    becomePartner.get('country_interested')?.errors == null &&
                    becomePartner.get('country_interested')?.touched
                  " placeholder="{{ 'partner.form.country_placeholder' | translate }}" />

              <p class="text-danger" *ngIf="
                    becomePartner.get('country_interested')?.errors != null &&
                    becomePartner.get('country_interested')?.touched
                  ">
                {{ "partner.form.country_error" | translate }}
              </p>
            </div>

            <!-- contact_person -->
            <!--
                        <div class="form-group col-md-12 my-3">
                            <label for="">{{ 'COUNTRY_LABEL' | translate }}*</label>
                            <input type="text" class="form-control p-3" formControlName="contact_person"
                                [class.is-valid]="becomePartner.get('contact_person')?.errors == null && becomePartner.get('contact_person')?.touched"
                                placeholder="{{ 'ENTER_contact_person' | translate }}">

                            <p class="text-danger"
                                *ngIf="becomePartner.get('contact_person')?.errors != null && becomePartner.get('contact_person')?.touched">
                                {{ 'INVALID_contact_person' | translate }}
                            </p>
                        </div> -->
          </div>

          <div class="row">
            <div class="form-group col-md-12 my-3">
              <label for="">{{ "partner.form.attach_profile_label" | translate }}</label>
              <div class="container mt-4">
                <div class="file-upload-wrapper" [class.has-file]="selectedFile">
                  <input type="file" id="fileInput" class="file-input" (change)="onFileChange($event)"
                    accept=".pdf,.doc,.docx" />
                  <div class="file-placeholder" *ngIf="!selectedFile">
                    <i class="fa fa-upload fa-2x"></i>
                    <span class="d-block mt-2">{{
                      "partner.form.attach_profile_drag_drop" | translate
                      }}</span>
                  </div>
                  <div class="file-info" *ngIf="selectedFile">
                    <div class="file-preview">
                      <i class="fa" [ngClass]="getFileIconClass(selectedFile.name)"></i>
                    </div>
                    <div class="file-details">
                      <span class="file-name">{{ selectedFile.name }}</span>
                      <span class="file-size">{{
                        formatFileSize(selectedFile.size)
                        }}</span>
                    </div>
                    <!-- <button type="button" class="btn-remove-file" (click)="removeFile($event)">
                                                <i class="fa fa-times"></i>
                                            </button> -->
                  </div>
                </div>
                <p class="text-danger" *ngIf="!selectedFile && clicked">
                  {{ "partner.form.attach_profile_error" | translate }}
                </p>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="pt-5 title-holder row justify-content-center align-center">
              <div class="before col-3"></div>
              <p class="text-center col-3 pt-2">
                {{ "partner.form.personal_info_title" | translate }}
              </p>
              <div class="after col-3"></div>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.personal_name_label" | translate }}</label>
              <input type="text" class="form-control p-3" placeholder="{{ 'partner.form.personal_name_placeholder' | translate }}"
                formControlName="contact_person" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('contact_person')?.errors != null &&
                    becomePartner.get('contact_person')?.touched
                  ">
                {{ "partner.form.personal_name_error" | translate }}
              </p>
            </div>

            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.personal_title_label" | translate }}</label>
              <input type="text" class="form-control p-3" placeholder="{{ 'partner.form.personal_title_placeholder' | translate }}"
                formControlName="title" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('title')?.errors != null &&
                    becomePartner.get('title')?.touched
                  ">
                {{ "partner.form.personal_title_error" | translate }}
              </p>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.personal_email_label" | translate }}</label>
              <input type="text" class="form-control p-3" placeholder="{{ 'partner.form.personal_email_placeholder' | translate }}"
                formControlName="email" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('email')?.errors != null &&
                    becomePartner.get('email')?.touched
                  ">
                {{ "partner.form.personal_email_error" | translate }}
              </p>
            </div>

            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.personal_mobile_label" | translate }}</label>
              <input type="text" class="form-control p-3" placeholder="{{ 'partner.form.personal_mobile_placeholder' | translate }}"
                formControlName="mobile_number" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('mobile_number')?.errors != null &&
                    becomePartner.get('mobile_number')?.touched
                  ">
                {{ "partner.form.personal_mobile_error" | translate }}
              </p>
            </div>

            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.personal_address_label" | translate }}</label>
              <input type="text" class="form-control p-3" placeholder="{{ 'partner.form.personal_address_placeholder' | translate }}"
                formControlName="address" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('address')?.errors != null &&
                    becomePartner.get('address')?.touched
                  ">
                {{ "partner.form.personal_email_error" | translate }}
              </p>
            </div>

            <div class="form-group col-md-6 my-3">
              <label for="">{{ "partner.form.personal_message_label" | translate }}</label>

              <input type="text" class="form-control p-3" placeholder="{{ 'partner.form.personal_message_placeholder' | translate }}"
                formControlName="message" />
              <p class="text-danger" *ngIf="
                    becomePartner.get('message')?.errors != null &&
                    becomePartner.get('message')?.touched
                  ">
                {{ "partner.form.personal_message_error" | translate }}
              </p>
            </div>
          </div>

          <button type="submit" [disabled]="disabled" class="my-3 p-3 btn col-12 btn-success">
            {{ "partner.form.submit" | translate }}
          </button>
        </form>
        } @else {
        <app-confirmation-page #confirmationPage id="confirmationSection" />
        }
      </div>
    </div>
  </div>
</section>